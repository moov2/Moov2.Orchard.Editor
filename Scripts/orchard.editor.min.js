!function(){var e,t,n,o=function(){for(var e=t.getAnnotations()||[],n=len=e.length;n--;)/doctype first\. Expected/.test(e[n].text)&&e.splice(n,1);len>e.length&&t.setAnnotations(e)},i=function(){e=ace.edit("editor"),t=e.getSession(),n=document.querySelector(".editor-input"),e.setTheme("ace/theme/monokai"),e.setShowPrintMargin(!1),t.setMode("ace/mode/html"),t.setUseWrapMode(!0),t.on("changeAnnotation",o),t.on("change",a),window.addEventListener("editor:valueUpdate",d)},a=function(){n.value=t.getValue()},d=function(){t.setValue(n.value)};document.addEventListener("DOMContentLoaded",i)}(),function(){var e,t,n=function(){return document.querySelector("#Body_MediaPath").value},o=function(){d({action:"destroy"}),e.style.display="none"},i=function(){e=document.querySelector(".js-editor-medium"),$input=document.querySelector(".editor-input"),t=document.querySelector(".js-editor-medium-iframe"),document.querySelector(".js-launch-medium-editor").addEventListener("click",u)},a=function(e){"close"===e.data.action&&($input.value=html_beautify?html_beautify(e.data.value):e.data.value,window.dispatchEvent(new Event("editor:valueUpdate")),o())},d=function(e){t.contentWindow.postMessage(JSON.stringify(e),"*")},u=function(){d({action:"initialise",value:$input.value,mediaPath:n()}),e.style.display=""};document.addEventListener("DOMContentLoaded",i),window.addEventListener("message",a)}();