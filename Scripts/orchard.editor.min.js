!function(){var e=function(e){var t,n,o,i=function(){for(var e=n.getAnnotations()||[],t=len=e.length;t--;)/doctype first\. Expected/.test(e[t].text)&&e.splice(t,1);len>e.length&&n.setAnnotations(e)},a=function(){return e.querySelector(".editor--ace > textarea")},r=function(){t=ace.edit(a().id),n=t.getSession(),o=e.querySelector(".editor-input"),t.setTheme("ace/theme/monokai"),t.setShowPrintMargin(!1),n.setMode("ace/mode/html"),n.setUseWrapMode(!0),n.on("changeAnnotation",i),n.on("change",d),window.addEventListener("editor:valueUpdate",u)},d=function(){o.value=n.getValue()},u=function(){n.setValue(o.value)};r()},t=function(){for(var t=document.querySelectorAll(".js-editor"),n=0;n<t.length;n++)e(t[n])};document.addEventListener("DOMContentLoaded",t)}(),function(){var e=function(e){var t,n,o,i,a=function(){return document.querySelector("#Body_MediaPath").value},r=function(){c({action:"destroy"}),window.removeEventListener("message",u),n.style.overflow="",t.style.display="none"},d=function(){t=e.querySelector(".js-editor-medium"),i=e.querySelector(".editor-input"),o=e.querySelector(".js-editor-medium-iframe"),n=document.querySelector("html"),e.querySelector(".js-launch-medium-editor").addEventListener("click",l)},u=function(e){"close"===e.data.action&&(i.value=html_beautify?html_beautify(e.data.value):e.data.value,window.dispatchEvent(new Event("editor:valueUpdate")),r())},c=function(e){o.contentWindow.postMessage(JSON.stringify(e),"*")},l=function(){c({action:"initialise",value:i.value,mediaPath:a()}),window.addEventListener("message",u),n.style.overflow="hidden",t.style.display=""};d()},t=function(){for(var t=document.querySelectorAll(".js-editor"),n=0;n<t.length;n++)e(t[n])};document.addEventListener("DOMContentLoaded",t)}();