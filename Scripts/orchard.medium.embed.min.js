!function(){var e,n,i=27,t="/Admin/Editor/Media",o=function(){n=document.querySelector(".js-editor-medium-element")},d=function(e){e.keyCode===i&&s()},a=function(){e.destroy(),e=void 0,window.removeEventListener("keydown",d)},r=function(){return e.serialize()[e.elements[0].id].value},s=function(){m({action:"close",value:r()})},u=function(i){window.addEventListener("keydown",d),n.value=i.value,e=new MediumEditor(n),$(n).mediumInsert({editor:e,addons:{images:{fileUploadOptions:{url:t,acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,formData:[{name:"MediaPath",value:i.mediaPath}]}}}})},c=function(e){var n=JSON.parse(e.data);"initialise"===n.action&&u(n),"destroy"===n.action&&a()},m=function(e){window.parent.postMessage(e,"*")};document.addEventListener("DOMContentLoaded",o),window.addEventListener("message",c)}();