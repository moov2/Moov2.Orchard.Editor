!function(){var e,n,t,o,i,d=27,a=function(){v({action:"close",value:r()})},s=function(){n=document.querySelector(".js-editor-medium-element"),t=document.querySelector(".js-close-btn"),o=document.querySelector(".js-state"),i=document.querySelector(".js-editor-custom-css")},u=function(e){e.keyCode===d&&a()},c=function(){e.destroy(),e=void 0,window.removeEventListener("keydown",u)},r=function(){return e.serialize()[e.elements[0].id].value},l=function(d){window.addEventListener("keydown",u),t.addEventListener("click",a),o.innerHTML=d.state,n.value=d.value,e=new MediumEditor(n),e.subscribe("editableInput",w),""!==i.value&&(e.elements[0].className+=" "+i.value),$(n).mediumInsert({editor:e,addons:{images:!1,embeds:!1,orchardMedia:!0}})},m=function(e){var n=JSON.parse(e.data);"initialise"===n.action&&l(n),"destroy"===n.action&&c()},v=function(e){window.parent.postMessage(e,"*")},w=function(){v({action:"update",value:r()})};document.addEventListener("DOMContentLoaded",s),window.addEventListener("message",m)}();