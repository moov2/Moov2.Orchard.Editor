!function(){var e,n,t=27,i=function(){n=document.querySelector(".js-editor-medium-element")},o=function(e){e.keyCode===t&&r()},d=function(){e.destroy(),e=void 0,window.removeEventListener("keydown",o)},a=function(){return e.serialize()[e.elements[0].id].value},r=function(){c({action:"close",value:a()})},s=function(t){window.addEventListener("keydown",o),n.value=t.value,e=new MediumEditor(n),$(n).mediumInsert({editor:e,addons:{images:!1,embeds:!1,orchardMedia:!0}})},u=function(e){var n=JSON.parse(e.data);"initialise"===n.action&&s(n),"destroy"===n.action&&d()},c=function(e){window.parent.postMessage(e,"*")};document.addEventListener("DOMContentLoaded",i),window.addEventListener("message",u)}();